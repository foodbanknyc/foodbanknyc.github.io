<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FBNYC Data</title>
    <link rel="icon" href="lightning.png" type="image/x-icon">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NFEQG2H7XH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NFEQG2H7XH');
    </script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .orange-bar {
            background-color: rgb(219, 139, 0);
            height: 5px;
            width: 100%;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
        }

        #header1 {
            font-family: Arial, sans-serif;
            margin-left: 28px;
            padding-top: 18px;
            font-size: 32px;
            font-style: italic;
            font-weight: bold;
            color: rgb(219, 139, 0);
        }

        #header2 {
            font-family: Arial, sans-serif;
            padding: 0;
            margin-top: -14px;
            margin-left: 67px;
            margin-bottom: 10px;
            font-size: 28px;
            font-style: italic;
            font-weight: bolder;
            color: rgb(219, 139, 0);
        }

        .container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .work-list {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            font-family: Helvetica, sans-serif;
            max-width: 50%; /* Set max width to 50% */
            box-sizing: border-box; /* Ensure padding and borders are included in the width */
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 40px;
        }

        table,
        th,
        td {
            border: 1px solid black;
        }

        th,
        td {
            padding: 5px;
            text-align: left;
        }

        table tbody tr:hover {
            background-color: #f5f5f5;
            color: black;
        }

        .project-gallery {
            flex: 1;
            display: flex;
            flex-direction: column;
            max-width: 50%; /* Set max width to 50% */
            box-sizing: border-box; /* Ensure padding and borders are included in the width */
            padding-top: 20px; /* Adjust the padding to move the model up */
        }

        .model-container {
            flex: 1;
            position: relative;
            width: 100%; /* Ensure it takes up full width */
            height: 100%; /* Ensure it takes up full height */
            margin-top: -20px; /* Adjust this value to move the model higher */
        }
                /* Tooltip container */
                .tooltip {
                    position: relative;
                    display: inline-block;
                }
        
                /* Tooltip text */
                .tooltip .tooltip-image {
                    display: none;
                    position: absolute;
                    top: 100%;
                    left: 50%;
                    transform: translateX(10%);
                    width: 450px;
                    border: 1.4px solid #071414;
                    background-color: #fff;
                    padding: 0px;
                    z-index: 10;
                }
        
                /* Show the tooltip text when you hover over the tooltip container */
                .tooltip:hover .tooltip-image {
                    display: block;
                }
    </style>
</head>
<body>
    <div class="orange-bar"></div>
    <div id="header1">FBNYC</div>
    <div id="header2">Data</div>
    <div class="container">
        <div class="work-list">
            <!-- Work List items go here -->
            <table>
                <colgroup>
                    <col style="width: 45%;">
                    <col style="width: 20%;">
                    <col style="width: 20%;">
                    <col style="width: 15%;">
                </colgroup>
                <thead>
                    <tr>
                        <th>Research</th>
                        <th>Type</th>
                        <th>Data Source</th>
                        <th>Issued</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Example row -->
                    <tr>
                        <td><a href="https://fbnyc.wpenginepowered.com/wp-content/uploads/2023/05/The-Next-Hunger-Cliff_web_f.pdf" target="_blank">The Next Hunger Cliff</a></td>
                        <td>PDF Report</td>
                        <td>FBNYC</td>
                        <td>May 2023</td>
                    </tr>
                    <tr>
                        <td><div class="tooltip"><a href="https://foodbanknyc.github.io/borofastfacts.pdf" target="_blank">Borough Fast Facts</a>
                            <img src="images/boro.jpg" alt="borofastfacts" class="tooltip-image"></div>
                            <td>PDF Report</td>
                            <td>FBNYC</td>
                            <td>Sep 2024</td>
                    </tr>
                    <tr>
                        <td><a href="https://foodbanknyc.github.io/cityfastfacts.pdf" target="_blank">Citywide Fast Facts</a></td>
                        <td>PDF Report</td>
                        <td>FBNYC</td>
                        <td>Dec 2023</td>
                    </tr>
                    <tr>
                        <td><a href="https://foodbanknyc.github.io/womenfastfacts.pdf" target="_blank">Hunger and Poverty Among Women</a></td>
                        <td>PDF Report</td>
                        <td>FBNYC</td>
                        <td>Jan 2024</td>
                    </tr>
                    <tr>
                        <td><a href="https://foodbanknyc.github.io/collegefood.pdf" target="_blank">Food Insecurity Among College Students</a></td>
                        <td>PDF Report</td>
                        <td>FBNYC</td>
                        <td>Sep 2023</td>
                    </tr>
                    <tr>
                        <td><a href="https://foodbanknyc.github.io/LGBTQfastfacts.pdf" target="_blank">LGBTQIA+ Fast Facts</a></td>
                        <td>PDF Report</td>
                        <td>FBNYC</td>
                        <td>Jun 2024</td>
                    </tr>
                    <tr>
                        <td><a href="https://www.foodbanknyc.org/research-reports/" target="_blank">Prior Research Reports</a></td>
                        <td>Website</td>
                        <td>FBNYC</td>
                        <td>May 2023</td>
                    </tr>
                </tbody>
            </table>

            <table>
                <colgroup>
                    <col style="width: 45%;">
                    <col style="width: 20%;">
                    <col style="width: 20%;">
                    <col style="width: 15%;">
                </colgroup>
                <thead>
                    <tr>
                        <th>Evaluation </th>
                        <th>Type</th>
                        <th>Data Source</th>
                        <th>Issued</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Example row -->
                    <tr>
                        <td><a href="https://feedingamerica.az1.qualtrics.com/results/public/ZmVlZGluZ2FtZXJpY2EtVVJfMFZaaXhpR3plZFhCUmhZLTYyMjI2YzlhZDg5NDQyMDAxMDdkNzM1OQ==#/pages/Page_dd2ee86d-9cd1-48b7-8200-cfdb44089b0b" target="_blank">Client Survey</a></td>
                        <td>Survey</td>
                        <td>FBNYC</td>
                        <td>Oct 2022</td>
                    </tr>
                    <tr>
                        <td><a href="https://www.foodbanknyc.github.io/bipoc.pdf" target="_blank">BIPOC Accessibility Pilot</a></td>
                        <td>Survey</td>
                        <td>FBNYC</td>
                        <td>Aug 2024</td>
                    </tr>
                </tbody>
            </table>

            <table>
                <colgroup>
                    <col style="width: 45%;">
                    <col style="width: 20%;">
                    <col style="width: 20%;">
                    <col style="width: 15%;">
                </colgroup>
                <thead>
                    <tr>
                        <th>Analytics</th>
                        <th>Type</th>
                        <th>Data Source</th>
                        <th>Issued</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Example row -->
                    <tr>
                        <td><a href="https://foodbanknyc.github.io/foodinsecurity2019-22.pdf" target="_blank">Food Insecurity in NYC</a></td>
                        <td>PDF Report</td>
                        <td>Feeding America</td>
                        <td>May 2024</td>
                    </tr>
                    <tr>
                        <td><a href="https://foodbanknyc.github.io/FY24Stats.pdf" target="_blank">FBNYC FY24 Performance</a></td>
                        <td>PDF Report</td>
                        <td>FBNYC</td>
                        <td>June 2024</td>
                    </tr>
                    <tr>
                        <td><a href="https://foodbanknyc.github.io/FY23Stats.pdf" target="_blank">FBNYC FY23 Performance</a></td>
                        <td>PDF Report</td>
                        <td>FBNYC</td>
                        <td>June 2023</td>
                    </tr>
                    <tr>
                        <td><a href="https://foodbanknyc.github.io/servicemap" target="_blank">FY23 Service Map</a></td>
                        <td>Dashboard</td>
                        <td>FBNYC</td>
                        <td>Oct 2023</td>
                    </tr>
                </tbody>
            </table>

            <table>
                <colgroup>
                    <col style="width: 45%;">
                    <col style="width: 20%;">
                    <col style="width: 20%;">
                    <col style="width: 15%;">
                </colgroup>
                <thead>
                    <tr>
                        <th>External Data</th>
                        <th>Type</th>
                        <th>Data Source</th>
                        <th>Issued</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Example row -->
                    <tr>
                        <td><a href="https://www.nyc.gov/assets/foodpolicy/downloads/pdf/nycfoodbythenumbers.pdf" target="_blank">NYC Food by the Numbers</a></td>
                        <td>External Site</td>
                        <td>MOFP</td>
                        <td>Jan 2024</td>
                        <tr>
                            <td><a href="https://www.robinhood.org/programs/special-initiatives/poverty-tracker/" target="_blank">NYC Poverty Tracker</a></td>
                            <td>External Site</td>
                            <td>Robin Hood</td>
                            <td>Dec 2023</td>
                        <tr>
                            <td><a href="https://state.nokidhungry.org/new-york/wp-content/uploads/sites/16/2024/04/No-Kid-Hungry-NY_Poll-Results-Spring-2024.pdf" target="_blank">NY Hunger Survey</a></td>
                            <td>External Site</td>
                            <td>No Kid Hungry</td>
                            <td>Apr 2024</td>
                        <tr>
                            <td><a href="https://www.ers.usda.gov/topics/food-nutrition-assistance/food-security-in-the-u-s/key-statistics-graphics/" target="_blank">USDA Key Statistics & Graphics</a></td>
                            <td>External Site</td>
                            <td>USDA</td>
                            <td>Sep 2024</td>
                </tbody>
            </table>
            <div>Can't find what you're looking for? Submit a request <a href="https://forms.office.com/pages/responsepage.aspx?id=2I6uodJ2ZUuQ5gFl0DacgPSbf10EUcpAv91xckH2Ah5UQjBIMUNLVkVYR09DTkY4OEM5RjVHNEpCSC4u" target="_blank">here</a>.</div>
        </div>
        <div class="project-gallery">
            <!-- Embed the 3D model viewer -->
            <div class="model-container" id="model-container"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/three@0.125.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.125.2/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.125.2/examples/js/loaders/GLTFLoader.js"></script>
    <script>
        // Basic Three.js setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(85, 1, 0.1, 1000); // Adjust aspect ratio later
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        const modelContainer = document.getElementById('model-container');
        renderer.setSize(modelContainer.clientWidth, modelContainer.clientHeight);
        renderer.setClearColor(0xffffff, 1); // Set background to white
        modelContainer.appendChild(renderer.domElement);

        // Add some lights
        const ambientLight = new THREE.AmbientLight(0x404040, .75); // soft white light
        scene.add(ambientLight);

        const directionalLight1 = new THREE.DirectionalLight(0xffffff, 1);
        directionalLight1.position.set(5, 10, 7.5);
        directionalLight1.castShadow = true;
        scene.add(directionalLight1);

        const directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.2);
        directionalLight2.position.set(-5, -10, -7.5);
        directionalLight2.castShadow = true;
        scene.add(directionalLight2);

        const pointLight = new THREE.PointLight(0xffffff, 0.2);
        pointLight.position.set(0, 10, 0);
        scene.add(pointLight);

        // Enable shadows
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;

        let model;

        // Load the GLTF model
        const loader = new THREE.GLTFLoader();
        loader.load('3dmodel.gltf', function (gltf) {
            model = gltf.scene;
            model.position.y += 1; // Adjust this value to raise the model
            scene.add(model);

            // Set the initial camera position and target for diagonal view
            const box = new THREE.Box3().setFromObject(model);
            const center = box.getCenter(new THREE.Vector3());
            const size = box.getSize(new THREE.Vector3());

            // Manually set the camera position for a diagonal view
            const defaultCameraPosition = {
                x: center.x + size.x * -1, // Adjust this value to position diagonally
                y: center.y + size.y * 5, // Adjust this value to position diagonally
                z: center.z + size.z * 0  // Adjust this value to position diagonally
            };
            camera.position.set(defaultCameraPosition.x, defaultCameraPosition.y, defaultCameraPosition.z);
            camera.lookAt(center);

            // Update controls target
            controls.target.copy(center);
            controls.update();

            animate();
        }, undefined, function (error) {
            console.error(error);
        });

        // Add OrbitControls
        const controls = new THREE.OrbitControls(camera, renderer.domElement);

        // Handle window resizing
        window.addEventListener('resize', function () {
            const width = modelContainer.clientWidth;
            const height = modelContainer.clientHeight;
            renderer.setSize(width, height);
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
        });

        // Initial adjustment of aspect ratio
        const initialWidth = modelContainer.clientWidth;
        const initialHeight = modelContainer.clientHeight;
        camera.aspect = initialWidth / initialHeight;
        camera.updateProjectionMatrix();

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            controls.update(); // only required if controls.enableDamping = true, or if controls.autoRotate = true
            renderer.render(scene, camera);
        }
    </script>
</body>
</html>
